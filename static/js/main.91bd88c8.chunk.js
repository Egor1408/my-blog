(this["webpackJsonpmy-blog"]=this["webpackJsonpmy-blog"]||[]).push([[0],{100:function(e,t,a){e.exports={wrapper:"ModalWrapper_wrapper__2p1qt",title:"ModalWrapper_title__1_1OR"}},101:function(e,t,a){e.exports={"checkbox-wrap":"Checkbox_checkbox-wrap__37UNy","check-box":"Checkbox_check-box__3ViH4",validError:"Checkbox_validError__8d33a"}},102:function(e,t,a){e.exports={linkWrap:"ModalLink_linkWrap__1KmPa",value:"ModalLink_value__w3aBd",linkName:"ModalLink_linkName__18C65"}},103:function(e,t,a){e.exports={inputWrap:"AvatarInput_inputWrap__YpKMg",label:"AvatarInput_label__1FN7n",input:"AvatarInput_input__Vs64r",validError:"AvatarInput_validError__24HdL"}},104:function(e,t,a){e.exports={wrap:"ArticlesList_wrap__2LSGV",articleList:"ArticlesList_articleList__3JAQD"}},117:function(e,t,a){e.exports={buttonWrap:"Button_buttonWrap__2x4cQ",loginOut:"Button_loginOut__k9cq0",delTag:"Button_delTag__1ec93",delArticle:"Button_delArticle__3XGHd",addTag:"Button_addTag___lDA0"}},120:function(e,t,a){e.exports={error:"SignUp_error__1QKUv"}},121:function(e,t,a){e.exports={error:"Profile_error__1eV_A"}},125:function(e,t,a){e.exports={inputWrap:"TagsInput_inputWrap__2836S",input:"TagsInput_input__n3vSP","input-body":"TagsInput_input-body__2ibPU",validError:"TagsInput_validError__2Yohs"}},148:function(e,t,a){e.exports={buttonWrap:"InputSubmit_buttonWrap__IGrbB"}},151:function(e,t,a){e.exports={error:"SignIn_error__2eHvy"}},172:function(e,t,a){e.exports={wrapper:"App_wrapper__2PkVQ"}},185:function(e,t,a){},219:function(e,t,a){},23:function(e,t,a){e.exports={wrap:"ArticleItemList_wrap__4DlKM",content:"ArticleItemList_content___eQwv",header:"ArticleItemList_header__1eM_T",title:"ArticleItemList_title__9GX2D",favorites:"ArticleItemList_favorites__xieKk",heart:"ArticleItemList_heart__1DcZl",active:"ArticleItemList_active__1Lgh0",disabled:"ArticleItemList_disabled__z0Edn",tags:"ArticleItemList_tags__3Et-u",article:"ArticleItemList_article__1s-gr",description:"ArticleItemList_description__2ESma",author:"ArticleItemList_author__1Dq4M","author-avatar":"ArticleItemList_author-avatar__3YuW2","author-info":"ArticleItemList_author-info__3_B32","author-name":"ArticleItemList_author-name__3TSqB","created-date":"ArticleItemList_created-date__8QwC6"}},299:function(e,t,a){},303:function(e,t,a){},304:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a(0),c=a.n(n),s=a(42),i=a.n(s),o=a(19),l=a(15),u=a(117),p=a.n(u),d=function(e){var t=e.value,a=e.name,n=e.func;return Object(r.jsx)("div",{className:p.a.buttonWrap,children:Object(r.jsx)("button",{name:a,className:p.a[a],onClick:function(e){e.preventDefault(),n()},children:t})})},j=a(44),b=a.n(j),h=a(9),m=c.a.createContext(),O=function(){return Object(n.useContext)(m)},f=function(e){var t=e.children,a=Object(n.useState)(null),c=Object(h.a)(a,2),s=c[0],i=c[1];return Object(r.jsx)(m.Provider,{value:{user:s,updateUser:function(e){i(e)}},children:t})},x=function(){var e=O(),t=e.user,a=e.updateUser,n="https://static.productionready.io/images/smiley-cyrus.jpg";t&&t.image&&(n=t.image);var c=Object(r.jsxs)("div",{className:b.a.buttons,children:[Object(r.jsx)(o.b,{to:"/my-blog/new-article",className:b.a["create-article"],children:"Create article"}),Object(r.jsxs)(o.b,{to:"/my-blog/profile/",className:b.a.profile,children:[Object(r.jsx)("span",{children:t&&t.username}),Object(r.jsx)("img",{className:b.a.avatar,src:n})]}),Object(r.jsx)(d,{name:"loginOut",value:"Log Out",func:function(){a(null),sessionStorage.clear()}})]}),s=Object(r.jsxs)("div",{className:b.a.buttons,children:[Object(r.jsx)(o.b,{to:"/my-blog/sign-in/",className:b.a["sign-in"],children:"Sign In"}),Object(r.jsx)(o.b,{to:"/my-blog/sign-up/",className:b.a["sign-up"],children:"Sign Up"})]}),i=t?c:s;return Object(r.jsxs)("div",{className:b.a.header,children:[Object(r.jsx)(o.b,{to:"/my-blog/Articles/",className:b.a.logo,children:"Realworld Blog"}),i]})},_=a(37),v=a(10),g=a(100),N=a.n(g),y=function(e){return Object(r.jsxs)("div",{className:N.a.wrapper,children:[Object(r.jsx)("div",{className:N.a.title,children:Object(r.jsx)("span",{children:e.title})}),Object(r.jsx)("div",{className:N.a.form,children:e.children})]})},w=a(71),A=a.n(w),k=function(){var e,t,a="username-".concat(Math.random()),n=Object(v.c)(),c=n.register,s=n.errors;return Object(r.jsxs)("div",{className:A.a.inputWrap,children:[Object(r.jsx)("label",{className:A.a.label,htmlFor:a,children:"Username"}),Object(r.jsx)("input",{className:A.a.input,type:"text",name:"username",id:a,placeholder:"Username",ref:c({required:!0,minLength:3,maxLength:20})}),"required"===(null===(e=s.username)||void 0===e?void 0:e.type)&&Object(r.jsx)("p",{className:A.a.validError,children:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"}),"minLength"===(null===(t=s.username)||void 0===t?void 0:t.type)&&Object(r.jsx)("p",{className:A.a.validError,children:"\u043e\u0442 3 \u0434\u043e 20 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"})]})},E=a(72),S=a.n(E),I=function(){var e,t,a="email-".concat(Math.random()),n=Object(v.c)(),c=n.register,s=n.errors;return Object(r.jsxs)("div",{className:S.a.inputWrap,children:[Object(r.jsx)("label",{className:S.a.label,htmlFor:a,children:"Email address"}),Object(r.jsx)("input",{className:S.a.input,type:"text",name:"email",id:a,placeholder:"Email address",ref:c({required:!0,pattern:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i})}),"required"===(null===(e=s.email)||void 0===e?void 0:e.type)&&Object(r.jsx)("p",{className:S.a.validError,children:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"}),"pattern"===(null===(t=s.email)||void 0===t?void 0:t.type)&&Object(r.jsx)("p",{className:S.a.validError,children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 Email"})]})},T=a(73),L=a.n(T),W=function(e){var t,a,c=e.modal,s=e.watchPass,i="password-".concat(Math.random()),o=Object(v.c)(),l=o.register,u=o.errors,p={required:!0};if("sign-up"===c){p.minLength=8,p.manLength=40;var d=Object(v.d)("password");Object(n.useEffect)((function(){s(d)}),[d])}return"profile"===c&&(p.required=!1),Object(r.jsxs)("div",{className:L.a.inputWrap,children:[Object(r.jsx)("label",{className:L.a.label,htmlFor:i,children:"Password"}),Object(r.jsx)("input",{className:L.a.input,type:"password",name:"password",id:i,placeholder:"Password",ref:l(p)}),"required"===(null===(t=u.password)||void 0===t?void 0:t.type)&&Object(r.jsx)("p",{className:L.a.validError,children:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"}),"minLength"===(null===(a=u.password)||void 0===a?void 0:a.type)&&Object(r.jsx)("p",{className:L.a.validError,children:"\u043e\u0442 8 \u0434\u043e 40 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"})]})},q=a(74),C=a.n(q),P=function(e){var t,a=e.curPass,n="repeat-password-".concat(Math.random()),c=Object(v.c)(),s=c.register,i=c.errors;return Object(r.jsxs)("div",{className:C.a.inputWrap,children:[Object(r.jsx)("label",{className:C.a.label,htmlFor:n,children:"Repeat password"}),Object(r.jsx)("input",{className:C.a.input,type:"password",name:"repeat-password",id:n,placeholder:"Repeat password",ref:s({required:!0,validate:function(e){return e===a}})}),"required"===(null===(t=i["repeat-password"])||void 0===t?void 0:t.type)&&Object(r.jsx)("p",{className:C.a.validError,children:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"}),i["repeat-password"]&&Object(r.jsx)("p",{className:C.a.validError,children:"\u041d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0435\u0442 \u0441 \u043f\u0430\u0440\u043e\u043b\u0435\u043c"})]})},U=a(101),M=a.n(U),R=function(e){var t,a=e.name,n=e.checkboxState,c=e.label,s=e.handleCheckbox,i="".concat(a,"-").concat(Math.random()),o=Object(v.c)(),l=o.register,u=o.errors;return Object(r.jsxs)("div",{className:M.a["checkbox-wrap"],children:[Object(r.jsx)("input",{className:M.a["check-box"],ref:l({required:!0}),name:"checkbox",id:i,type:"checkbox",checked:n,onChange:function(){s()}}),Object(r.jsx)("label",{htmlFor:i,children:Object(r.jsx)("span",{children:c})}),"required"===(null===(t=u.checkbox)||void 0===t?void 0:t.type)&&Object(r.jsx)("p",{className:M.a.validError,children:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"})]})},z=a(148),H=a.n(z),B=function(e){var t=e.value;return Object(r.jsx)("div",{className:H.a.buttonWrap,children:Object(r.jsx)("input",{type:"submit",value:t})})},F=a(102),D=a.n(F),J=function(e){var t=e.linkUrl,a=e.value,n=e.linkName;return Object(r.jsxs)("div",{className:D.a.linkWrap,children:[Object(r.jsx)("span",{className:D.a.value,children:a}),Object(r.jsxs)(o.b,{className:D.a.linkName,to:t,children:[" ",n]})]})},V=a(7),Z=a.n(V),G=a(13),K=a(149),Q=a(150),Y=function(){function e(){var t=this;Object(K.a)(this,e),this._baseURL="https://conduit.productionready.io/api/",this.getArticleList=function(){var e=Object(G.a)(Z.a.mark((function e(a,r){var n;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getRequest(a,r);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),this.getArticle=function(){var e=Object(G.a)(Z.a.mark((function e(a,r){var n;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getRequest(a,r);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),this.loginUser=function(){var e=Object(G.a)(Z.a.mark((function e(a){var r;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getRequest("users/login",{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.createNewAcc=function(){var e=Object(G.a)(Z.a.mark((function e(a){var r;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getRequest("users",{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.updateUser=function(){var e=Object(G.a)(Z.a.mark((function e(a,r){var n;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getRequest("user",{method:"PUT",body:JSON.stringify(a),headers:{"Content-Type":"application/json",Authorization:"Token ".concat(r)}});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),this.getUser=Object(G.a)(Z.a.mark((function e(){var a;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getRequest("user");case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)}))),this.createNewArticle=function(){var e=Object(G.a)(Z.a.mark((function e(a,r){var n;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getRequest("articles",{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json",Authorization:"Token ".concat(r)}});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),this.updateArticle=function(){var e=Object(G.a)(Z.a.mark((function e(a,r,n){var c;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getRequest("articles/".concat(n),{method:"PUT",body:JSON.stringify(a),headers:{"Content-Type":"application/json",Authorization:"Token ".concat(r)}});case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}(),this.deleteArticle=function(){var e=Object(G.a)(Z.a.mark((function e(a,r){var n;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getRequest("articles/".concat(a),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(r)}});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),this.favoriteArticle=function(){var e=Object(G.a)(Z.a.mark((function e(a,r){var n;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getRequest("articles/".concat(a,"/favorite"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(r)}});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),this.unfavoriteArticle=function(){var e=Object(G.a)(Z.a.mark((function e(a,r){var n;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getRequest("articles/".concat(a,"/favorite"),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(r)}});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}return Object(Q.a)(e,[{key:"getRequest",value:function(){var e=Object(G.a)(Z.a.mark((function e(){var t,a,r,n,c=arguments;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:null,a=c.length>1&&void 0!==c[1]?c[1]:null,e.next=4,fetch("".concat(this._baseURL).concat(t),a);case 4:return r=e.sent,e.next=7,r.json();case 7:return n=e.sent,e.abrupt("return",n);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),X=a(120),$=a.n(X),ee=function(e){var t=new Y,a=e.history,c=Object(n.useState)(""),s=Object(h.a)(c,2),i=s[0],o=s[1],l=Object(n.useState)(!1),u=Object(h.a)(l,2),p=u[0],d=u[1],j=Object(n.useState)(!1),b=Object(h.a)(j,2),m=b[0],f=b[1],x=Object(n.useState)(!1),g=Object(h.a)(x,2),N=g[0],w=g[1],A=(O().user,Object(v.b)());return Object(r.jsx)(v.a,Object(_.a)(Object(_.a)({},A),{},{children:Object(r.jsx)(y,{title:"Create new account",children:Object(r.jsxs)("form",{onSubmit:A.handleSubmit((function(e,r){var n={user:e};t.createNewAcc(n).then((function(e){e.errors?Object.keys(e.errors).map((function(e){"email"===e&&f(!0),"username"===e&&d(!0)})):a.push("/my-blog/sign-in")})),r.target.reset({errors:!0})})),children:[p&&Object(r.jsx)("p",{className:$.a.error,children:"\u042d\u0442\u043e\u0442 username \u0443\u0436\u0435 \u0437\u0430\u043d\u044f\u0442"}),Object(r.jsx)(k,{}),m&&Object(r.jsx)("p",{className:$.a.error,children:"\u0422\u0430\u043a\u043e\u0439 email \u0443\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d"}),Object(r.jsx)(I,{}),Object(r.jsx)(W,{modal:"sign-up",watchPass:function(e){e.password&&o(e.password)}}),Object(r.jsx)(P,{curPass:i}),Object(r.jsx)(R,{handleCheckbox:function(){w((function(e){return!e}))},checkboxState:N,name:"personInfo",label:"I agree to the processing of my personal\r information"}),Object(r.jsx)(B,{value:"Create"}),Object(r.jsx)(J,{linkUrl:"/my-blog/sign-in/",value:"Already have an account?",linkName:"Sign In"})]})})}))},te=a(151),ae=a.n(te),re=function(){var e=new Y,t=Object(v.b)(),a=O(),c=a.user,s=a.updateUser,i=Object(n.useState)(!1),o=Object(h.a)(i,2),u=o[0],p=o[1];return c?Object(r.jsx)(l.a,{to:"/my-blog/Articles"}):Object(r.jsx)(v.a,Object(_.a)(Object(_.a)({},t),{},{children:Object(r.jsx)(y,{title:"Sign In",children:Object(r.jsxs)("form",{onSubmit:t.handleSubmit((function(t,a){var r={user:t};e.loginUser(r).then((function(e){var t=Object.keys(e);"user"==="".concat(t)?(s(e.user),function(e){var t={user:e};sessionStorage.setItem("session",JSON.stringify(t))}(e.user)):p(!0)})),a.target.reset({errors:!0})})),children:[Object(r.jsx)(I,{}),Object(r.jsx)(W,{}),u&&Object(r.jsx)("p",{className:ae.a.error,children:"Email \u0438 \u043f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442"}),Object(r.jsx)(B,{value:"Login"}),Object(r.jsx)(J,{linkUrl:"/sign-up/",value:"Don`t have an account?",linkName:"Sign Up"})]})})}))},ne=a(103),ce=a.n(ne),se=function(){var e="username-".concat(Math.random()),t=Object(v.c)().register;return Object(r.jsxs)("div",{className:ce.a.inputWrap,children:[Object(r.jsx)("label",{className:ce.a.label,htmlFor:e,children:"Avatar image (url)"}),Object(r.jsx)("input",{className:ce.a.input,type:"text",name:"image",id:e,placeholder:"Avatar image",ref:t()})]})},ie=a(121),oe=a.n(ie),le=function(){var e=new Y,t=Object(v.b)(),a=O(),c=a.user,s=a.updateUser,i=Object(n.useState)(!1),o=Object(h.a)(i,2),u=o[0],p=o[1],d=Object(n.useState)(!1),j=Object(h.a)(d,2),b=j[0],m=j[1];return c?Object(r.jsx)(v.a,Object(_.a)(Object(_.a)({},t),{},{children:Object(r.jsx)(y,{title:"Edit Profile",children:Object(r.jsxs)("form",{onSubmit:t.handleSubmit((function(t,a){var r={user:t};e.updateUser(function(e){var t=e.user,a={user:{}};for(var r in t)""!==t[r].trim()&&(a.user[r]=t[r]);return a}(r),c.token).then((function(e){e.errors?Object.keys(e.errors).map((function(e){"email"===e&&m(!0),"username"===e&&p(!0)})):(s(e.user),function(e){var t={user:e};sessionStorage.setItem("session",JSON.stringify(t))}(e.user))})),a.target.reset()})),children:[u&&Object(r.jsx)("p",{className:oe.a.error,children:"\u042d\u0442\u043e\u0442 username \u0443\u0436\u0435 \u0437\u0430\u043d\u044f\u0442"}),Object(r.jsx)(k,{}),b&&Object(r.jsx)("p",{className:oe.a.error,children:"\u0422\u0430\u043a\u043e\u0439 email \u0443\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d"}),Object(r.jsx)(I,{}),Object(r.jsx)(W,{modal:"profile"}),Object(r.jsx)(se,{}),Object(r.jsx)(B,{value:"Save"})]})})})):Object(r.jsx)(l.a,{to:"/my-blog/sign-in"})},ue=a(24),pe=a(3),de=a.n(pe),je=a(310),be=a(23),he=a.n(be),me=function(e){var t=e.data,a=e.clsForTags,c=t.title,s=t.favoritesCount,i=t.tagList,l=t.slug,u=t.description,p=t.createdAt,d=t.favorited,j=new Y,b=O().user,m=t.author,f=m.username,x=m.image,_=Object(n.useState)({}),v=Object(h.a)(_,2),g=v[0],N=v[1];Object(n.useEffect)((function(){N({favorited:d,favoritesCount:s})}),[d]);var y=Object(je.a)(new Date(p),"MMMM d, Y"),w=i.length&&Object(r.jsx)("div",{className:de()(he.a.tags,Object(ue.a)({},he.a.article,a)),children:Object(r.jsx)("ul",{children:i.map((function(e,t){return Object(r.jsx)("li",{children:Object(r.jsx)("span",{children:e})},t)}))})});return Object(r.jsxs)("div",{className:de()(he.a.wrap),children:[Object(r.jsxs)("div",{className:he.a.content,children:[Object(r.jsxs)("div",{className:he.a.header,children:[Object(r.jsx)("div",{className:he.a.title,children:Object(r.jsx)(o.b,{to:"/articles/".concat(l),children:Object(r.jsx)("h5",{children:c})})}),Object(r.jsxs)("div",{className:he.a.favorites,children:[Object(r.jsx)("button",{className:de()(he.a.heart,Object(ue.a)({},he.a.active,g.favorited),Object(ue.a)({},he.a.disabled,!b)),disabled:!b,onClick:function(){g.favorited?(j.unfavoriteArticle(l,b.token),N((function(e){return{favorited:!e.favorited,favoritesCount:e.favoritesCount-1}}))):(j.favoriteArticle(l,b.token),N((function(e){return{favorited:!e.favorited,favoritesCount:e.favoritesCount+1}})))}}),Object(r.jsx)("span",{children:g.favoritesCount})]})]}),w,Object(r.jsx)("div",{className:he.a.description,children:u})]}),Object(r.jsxs)("div",{className:he.a.author,children:[Object(r.jsxs)("div",{className:he.a["author-info"],children:[Object(r.jsx)("div",{className:he.a["author-name"],children:f}),Object(r.jsx)("div",{className:he.a["created-date"],children:y})]}),Object(r.jsx)("div",{className:he.a["author-avatar"],children:Object(r.jsx)("img",{src:"".concat(x),alt:f})})]})]})},Oe=a(311),fe=(a(185),function(e){var t=e.totalArticles,a=e.currentPage,n=e.nextPage;return Object(r.jsx)(Oe.a,{size:"small",current:a,total:t,pageSize:"20",onChange:function(e){n(e)}})}),xe=a(309),_e=(a(219),function(){return Object(r.jsx)("div",{className:"spinner",children:Object(r.jsx)(xe.a,{tip:"Loading...",size:"large"})})}),ve=a(104),ge=a.n(ve),Ne=function(){var e=new Y,t=O().user,a=Object(n.useState)([]),c=Object(h.a)(a,2),s=c[0],i=c[1],o=Object(n.useState)(null),l=Object(h.a)(o,2),u=l[0],p=l[1],d=Object(n.useState)(1),j=Object(h.a)(d,2),b=j[0],m=j[1],f=Object(n.useState)(!0),x=Object(h.a)(f,2),_=x[0],v=x[1],g=20*(b-1),N=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;v(!0),e.getArticleList("articles?offset=".concat(g,"/"),t).then((function(e){p(e.articlesCount),i(e.articles)})).then((function(){v(!1)}))};Object(n.useEffect)((function(){var e={};t?(e.headers={"Content-Type":"application/json",Authorization:"Token ".concat(t.token)},N(e)):N()}),[b,t]);return _?Object(r.jsx)(_e,{}):Object(r.jsxs)("div",{className:ge.a.wrap,children:[Object(r.jsx)("ul",{className:ge.a.articleList,children:s.map((function(e,t){return Object(r.jsx)("li",{children:Object(r.jsx)(me,{data:e})},t)}))}),Object(r.jsx)("div",{className:ge.a.pagination,children:Object(r.jsx)(fe,{totalArticles:u,currentPage:b,nextPage:function(e){m(e)}})})]})},ye=a(170),we=a.n(ye),Ae=a(312),ke=(a(299),function(e){var t=e.func;return Object(r.jsx)(Ae.a,{placement:"rightTop",title:"Are you sure to delete this article?",onConfirm:function(){t()},okText:"Yes",cancelText:"No",children:Object(r.jsx)("button",{className:"delArticle",children:"Delete"})})}),Ee=a(80),Se=a.n(Ee),Ie=function(e){var t=e.match.params.slug,a=e.history,c=O().user,s=new Y,i=Object(n.useState)({}),l=Object(h.a)(i,2),u=l[0],p=l[1],d=Object(n.useState)(!1),j=Object(h.a)(d,2),b=j[0],m=j[1];Object(n.useEffect)((function(){var e={};c&&(e.headers={"Content-Type":"application/json",Authorization:"Token ".concat(c.token)},s.getArticle("articles/".concat(t,"/"),e).then((function(e){return p(e.article)})))}),[c]),Object(n.useEffect)((function(){c&&u.author&&m(c.username===u.author.username)}),[c,u.author]);return u&&u.author?Object(r.jsxs)("div",{className:Se.a.article,children:[Object(r.jsx)(me,{data:u,clsForTags:!0}),b&&Object(r.jsxs)("div",{className:Se.a.buttons,children:[Object(r.jsx)(ke,{func:function(){var e,r;e=t,r=c.token,s.deleteArticle(e,r),a.push("/my-blog/")}}),Object(r.jsx)(o.b,{to:"/my-blog/articles/".concat(t,"/edit"),className:Se.a["edit-article"],children:"Edit"})]}),Object(r.jsx)("div",{className:Se.a.articleBody,children:Object(r.jsx)(we.a,{children:u.body})})]}):Object(r.jsx)(_e,{})},Te=a(81),Le=a.n(Te),We=function(e){var t,a=e.name,n=e.label,c=e.placeholder,s=e.value,i="".concat(a,"-").concat(Math.random()),o=Object(v.c)(),l=o.register,u=o.errors;return Object(r.jsxs)("div",{className:Le.a.inputWrap,children:[Object(r.jsx)("label",{className:Le.a.label,htmlFor:i,children:n}),Object(r.jsx)("input",{className:Le.a.input,type:"text",name:a,id:i,defaultValue:s,placeholder:c,ref:l({required:!0})}),"required"===(null===(t=u.username)||void 0===t?void 0:t.type)&&Object(r.jsx)("p",{className:Le.a.validError,children:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"})]})},qe=a(82),Ce=a.n(qe),Pe=function(e){var t,a=e.name,n=e.label,c=e.placeholder,s=e.value,i="".concat(a,"-").concat(Math.random()),o=Object(v.c)(),l=o.register,u=o.errors;return Object(r.jsxs)("div",{className:Ce.a.inputWrap,children:[Object(r.jsx)("label",{className:Ce.a.label,htmlFor:i,children:n}),Object(r.jsx)("textarea",{className:Ce.a.input,type:"text",name:a,id:i,placeholder:c,defaultValue:s,ref:l({required:!0})}),"required"===(null===(t=u.username)||void 0===t?void 0:t.type)&&Object(r.jsx)("p",{className:Ce.a.validError,children:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"})]})},Ue=a(18),Me=a(125),Re=a.n(Me),ze=function(e){var t=e.placeholder,a=e.tagList,c=void 0===a?null:a,s=Object(v.c)().register,i=Object(n.useState)([0]),o=Object(h.a)(i,2),l=o[0],u=o[1];Object(n.useEffect)((function(){if(c){var e=c.map((function(e,t){return t}));u(e)}}),[c]);var p=l.map((function(e){var a=c?c[e]:null;return Object(r.jsxs)("li",{children:[Object(r.jsx)("input",{id:e,className:Re.a.input,type:"text",name:"tagList[".concat(e,"]"),defaultValue:a,placeholder:t,ref:s()}),Object(r.jsx)(d,{value:"Delete",name:"delTag",func:function(){return function(e){var t=l.filter((function(t){return e!==t}));u(t)}(e)}})]},e)}));return Object(r.jsxs)("div",{className:Re.a.inputWrap,children:[Object(r.jsx)("h3",{children:"Tags"}),Object(r.jsxs)("ul",{children:[p,Object(r.jsx)(d,{value:"Add tag",name:"addTag",func:function(){u((function(e){var t=e[e.length-1]+1;return[].concat(Object(Ue.a)(e),[t])}))}})]})]})},He=a(75),Be=a.n(He),Fe=function(e){var t=new Y,a=e.history,c=e.match,s=Object(v.b)(),i=Object(n.useState)({}),o=Object(h.a)(i,2),u=o[0],p=o[1],d=O().user;Object(n.useEffect)((function(){c.params.slug&&t.getArticle("articles/".concat(c.params.slug,"/")).then((function(e){p(e.article)}))}),[]);return d?Object(r.jsx)(v.a,Object(_.a)(Object(_.a)({},s),{},{children:Object(r.jsxs)("div",{className:Be.a.wrap,children:[Object(r.jsx)("h2",{children:"Create new article"}),Object(r.jsxs)("form",{onSubmit:s.handleSubmit((function(e,r){!function(e,a){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;r?t.updateArticle(e,a,r):t.createNewArticle(e,a)}({article:e},d.token,u.slug),r.target.reset(),a.push("/my-blog/")})),children:[Object(r.jsx)("div",{className:Be.a.title,children:Object(r.jsx)(We,{name:"title",label:"Title",placeholder:"title",value:u.title})}),Object(r.jsx)("div",{className:Be.a.desc,children:Object(r.jsx)(We,{name:"description",label:"Short description",placeholder:"title",value:u.description})}),Object(r.jsx)("div",{className:Be.a.body,children:Object(r.jsx)(Pe,{name:"body",label:"Text",placeholder:"text",value:u.body})}),Object(r.jsx)("div",{className:Be.a.tags,children:Object(r.jsx)(ze,{placeholder:"tags",tagList:u.tagList})}),Object(r.jsx)(B,{value:"Send"})]})]})})):Object(r.jsx)(l.a,{to:"/my-blog/sign-in"})},De=a(172),Je=a.n(De),Ve=function(){var e=O().updateUser;return Object(n.useEffect)((function(){if(sessionStorage.getItem("session")){var t=JSON.parse(sessionStorage.getItem("session")).user;e(t)}}),[]),Object(r.jsx)(o.a,{children:Object(r.jsxs)("div",{className:Je.a.wrapper,children:[Object(r.jsx)(x,{}),Object(r.jsx)(l.b,{path:"/my-blog",exact:!0,component:Ne}),Object(r.jsx)(l.b,{path:"/my-blog/articles",exact:!0,component:Ne}),Object(r.jsx)(l.b,{path:"/my-blog/articles/:slug",exact:!0,component:Ie}),Object(r.jsx)(l.b,{path:"/my-blog/sign-up",component:ee}),Object(r.jsx)(l.b,{path:"/my-blog/sign-in",component:re}),Object(r.jsx)(l.b,{path:"/my-blog/profile",component:le}),Object(r.jsx)(l.b,{path:"/my-blog/new-article",component:Fe}),Object(r.jsx)(l.b,{path:"/my-blog/articles/:slug/edit",component:Fe})]})})},Ze=(a(303),Object(r.jsx)(f,{children:Object(r.jsx)(Ve,{})}));i.a.render(Ze,document.getElementById("root"))},44:function(e,t,a){e.exports={header:"Header_header__2ksFT",logo:"Header_logo__1b2Wt",buttons:"Header_buttons__Yozv-","sign-in":"Header_sign-in__1PPVb","sign-up":"Header_sign-up__2zj7q","create-article":"Header_create-article__OPlDE",profile:"Header_profile__2kGo7",avatar:"Header_avatar__1MfhC"}},71:function(e,t,a){e.exports={inputWrap:"UsernameInput_inputWrap__2jNqH",label:"UsernameInput_label__1c9c6",input:"UsernameInput_input__1wBE1",validError:"UsernameInput_validError__Xjq7U"}},72:function(e,t,a){e.exports={inputWrap:"EmailInput_inputWrap__2dCnm",label:"EmailInput_label__1FFnG",input:"EmailInput_input__3Eqea",validError:"EmailInput_validError__1m4kA"}},73:function(e,t,a){e.exports={inputWrap:"PasswordInput_inputWrap__2LHa5",label:"PasswordInput_label__2nSVG",input:"PasswordInput_input__1zWEK",validError:"PasswordInput_validError__34Eh4"}},74:function(e,t,a){e.exports={inputWrap:"RepeatPassInput_inputWrap__1f7gp",label:"RepeatPassInput_label__gZPcI",input:"RepeatPassInput_input__1j5eS",validError:"RepeatPassInput_validError__2Et39"}},75:function(e,t,a){e.exports={wrap:"CreateArticle_wrap__2c-mE"}},80:function(e,t,a){e.exports={article:"Article_article__2c7ZW",articleBody:"Article_articleBody__3ii2W",buttons:"Article_buttons__33dZL","edit-article":"Article_edit-article__3ZFAo"}},81:function(e,t,a){e.exports={inputWrap:"TextInput_inputWrap__6qubz",label:"TextInput_label__3reqy",input:"TextInput_input__fnMl3","input-body":"TextInput_input-body__2v0fx",validError:"TextInput_validError__3_J8l"}},82:function(e,t,a){e.exports={inputWrap:"TextArea_inputWrap__2uL3m",label:"TextArea_label__MqHnc",input:"TextArea_input__krjsq",validError:"TextArea_validError__35LZH"}}},[[304,1,2]]]);
//# sourceMappingURL=main.91bd88c8.chunk.js.map