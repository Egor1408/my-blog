{"version":3,"sources":["components/Button/Button.module.scss","containers/SignUp/SignUp.module.scss","containers/Profile/Profile.module.scss","containers/Article/Article.module.scss","components/InputSubmit/InputSubmit.module.scss","containers/SignIn/SignIn.module.scss","containers/App/App.module.scss","containers/ArticleItemList/ArticleItemList.module.scss","components/Button/Button.js","Context/UserContext.js","containers/Header/Header.js","hoc/ModalWrapper/ModalWrapper.js","components/UsernameInput/UsernameInput.js","components/EmailInput/EmailInput.js","components/PasswordInput/PasswordInput.js","components/RepeatPassInput/RepeatPassInput.js","components/Checkbox/Checkbox.js","components/InputSubmit/InputSubmit.js","components/ModalLink/ModalLink.js","ApiServices/ApiService.js","containers/SignUp/SignUp.js","containers/SignIn/SignIn.js","components/AvatarInput/AvatarInput.js","containers/Profile/Profile.js","containers/ArticleItemList/ArticleItemList.js","components/Navigation/Navigation.js","components/Spinner/Spinner.js","containers/ArticlesList/ArticlesList.js","containers/Article/Article.js","containers/App/App.js","index.js","containers/Header/Header.module.scss","components/UsernameInput/UsernameInput.module.scss","components/EmailInput/EmailInput.module.scss","components/PasswordInput/PasswordInput.module.scss","components/RepeatPassInput/RepeatPassInput.module.scss","hoc/ModalWrapper/ModalWrapper.module.scss","components/Checkbox/Checkbox.module.scss","components/ModalLink/ModalLink.module.scss","components/AvatarInput/AvatarInput.module.scss","containers/ArticlesList/ArticlesList.module.scss"],"names":["module","exports","Button","value","name","func","className","classes","buttonWrap","onClick","e","preventDefault","UserContext","React","createContext","useUser","useContext","UserProvider","children","useState","user","setUser","Provider","updateUser","dataUser","Header","loginTrue","buttons","to","profile","username","avatar","src","sessionStorage","clear","loginFalse","buttonsGroup","header","logo","ModalWrapper","props","wrapper","title","form","UsernameInput","htmlFor","Math","random","useFormContext","register","errors","inputWrap","label","input","type","id","placeholder","ref","required","minLength","maxLength","validError","EmailInput","pattern","email","PasswordInput","modal","watchPass","validRules","manLength","curPass","useWatch","useEffect","password","RepeatPassInput","validate","Checkbox","checkboxState","handleCheckbox","checked","onChange","checkbox","InputSubmit","ModalLink","linkUrl","linkName","linkWrap","ApiService","_baseURL","getArticleList","url","a","getRequest","articleList","getArticle","article","loginUser","data","method","body","JSON","stringify","headers","res","createNewAcc","token","Authorization","getUser","obj","fetch","this","json","responce","SignUp","apiService","setCurPass","userNameErr","setUserNameErr","emailErr","setEmailErr","useCheckboxState","methods","useForm","onSubmit","handleSubmit","resData","then","request","Object","keys","map","err","target","reset","error","pass","prev","SignIn","setError","typeRequest","session","setItem","initSession","AvatarInput","Profile","newObj","i","trim","filterUserData","updateSession","ArticleItemList","clsForTags","favoritesCount","tagList","slug","description","createdAt","author","image","cls","tags","push","createdDate","format","Date","length","join","item","content","favorites","heart","alt","Navigation","totalArticles","currentPage","nextPage","size","current","total","pageSize","page","Spinner","tip","ArticlesList","articles","setArticles","setTotalArticles","setCurrentPage","loading","setLoading","useLoading","currPage","offsetArticles","articlesCount","pagination","newPage","Article","match","params","setArticle","console","log","articleBody","App","getItem","parse","path","exact","component","app","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.37a2cda8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"buttonWrap\":\"Button_buttonWrap__2x4cQ\",\"loginOut\":\"Button_loginOut__k9cq0\",\"loginAcc\":\"Button_loginAcc__2_iVn\",\"editProfile\":\"Button_editProfile__3ptmB\",\"createAcc\":\"Button_createAcc__I4L-e\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"SignUp_error__1QKUv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"Profile_error__1eV_A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"article\":\"Article_article__2c7ZW\",\"articleBody\":\"Article_articleBody__3ii2W\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"buttonWrap\":\"InputSubmit_buttonWrap__IGrbB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"SignIn_error__2eHvy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"App_wrapper__2PkVQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"ArticleItemList_wrapper__3eieN\",\"content\":\"ArticleItemList_content___eQwv\",\"header\":\"ArticleItemList_header__1eM_T\",\"title\":\"ArticleItemList_title__9GX2D\",\"favorites\":\"ArticleItemList_favorites__xieKk\",\"heart\":\"ArticleItemList_heart__1DcZl\",\"tags\":\"ArticleItemList_tags__3Et-u\",\"article\":\"ArticleItemList_article__1s-gr\",\"description\":\"ArticleItemList_description__2ESma\",\"author\":\"ArticleItemList_author__1Dq4M\",\"author-avatar\":\"ArticleItemList_author-avatar__3YuW2\",\"author-info\":\"ArticleItemList_author-info__3_B32\",\"author-name\":\"ArticleItemList_author-name__3TSqB\",\"created-date\":\"ArticleItemList_created-date__8QwC6\"};","import React from 'react';\r\nimport classes from './Button.module.scss';\r\n\r\nconst Button = ({\r\n  value, name, func,\r\n}) => (\r\n  <div className={classes.buttonWrap}>\r\n    <button name={name}\r\n      className={classes[name]}\r\n      onClick={(e) => {\r\n        e.preventDefault();\r\n        func()\r\n      }}\r\n    >{value}</button>\r\n  </div>\r\n)\r\n\r\nexport default Button;","import React, { useState, useContext } from 'react';\r\n\r\nconst UserContext = React.createContext();\r\n\r\nexport const useUser = () => useContext(UserContext);\r\n\r\nexport const UserProvider = ({ children }) => {\r\n  const [user, setUser] = useState(null);\r\n\r\n  const updateUser = (dataUser) => {\r\n    setUser(dataUser);\r\n  }\r\n\r\n  return (\r\n    <UserContext.Provider value={{ user, updateUser }}>\r\n      {children}\r\n    </UserContext.Provider>\r\n  )\r\n}","import React, { useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Button from '../../components/Button/Button';\r\nimport classes from './Header.module.scss';\r\nimport { useUser } from '../../Context/UserContext';\r\n\r\nconst Header = () => {\r\n  const { user, updateUser } = useUser();\r\n  const clearUser = () => {\r\n    updateUser(null);\r\n    sessionStorage.clear()\r\n  }\r\n\r\n  const loginTrue = <div className={classes.buttons}>\r\n                      <Link to='/create-article/' className={classes['create-article']}>Create article</Link>\r\n                      <Link to='/profile/' className={classes.profile}>\r\n                        <span>{user && user.username}</span>\r\n                        <img className={classes.avatar} src='https://static.productionready.io/images/smiley-cyrus.jpg' />\r\n\r\n                      </Link>\r\n                      <Button name='loginOut' value='Log Out' func={clearUser}/>\r\n                    </div>\r\n\r\n  const loginFalse = <div className={classes.buttons}>\r\n                      <Link to='/sign-in/' className={classes['sign-in']}>Sign In</Link>\r\n                      <Link to='/sign-up/' className={classes['sign-up']}>Sign Up</Link>\r\n                    </div>\r\n\r\n  const buttonsGroup = user ? loginTrue : loginFalse;\r\n  return (\r\n    <div className={classes.header}>\r\n      <Link to='/Articles/' className={classes.logo}>Realworld Blog</Link>\r\n      {buttonsGroup}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport classes from './ModalWrapper.module.scss';\r\n\r\nconst ModalWrapper = (props) => {\r\n  const hi = 'hi';\r\n  return (\r\n    <div className={classes.wrapper}>\r\n      <div className={classes.title}>\r\n        <span>{props.title}</span>\r\n      </div>\r\n      <div className={classes.form}>\r\n        {props.children}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ModalWrapper;","import React from 'react';\r\nimport { useFormContext } from 'react-hook-form';\r\nimport classes from './UsernameInput.module.scss';\r\n\r\nconst UsernameInput = () => {\r\n  const htmlFor = `username-${Math.random()}`;\r\n  const { register, errors } = useFormContext();\r\n  return (\r\n    <div className = {classes.inputWrap}>\r\n      <label className={classes.label} htmlFor={htmlFor}>Username</label>\r\n      <input\r\n        className={classes.input}\r\n        type={'text'}\r\n        name='username'\r\n        id={htmlFor}\r\n        placeholder={'Username'}\r\n        ref={register({\r\n          required: true,\r\n          minLength: 3,\r\n          maxLength: 20,\r\n        })}\r\n      />\r\n      {errors.username?.type === 'required' && <p className={classes.validError}>Обязательное поле</p>}\r\n      {(errors.username?.type === 'minLength' && 'maxLength') && <p className={classes.validError}>от 3 до 20 символов</p>}\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UsernameInput;","import React from 'react';\r\nimport { useFormContext } from 'react-hook-form';\r\nimport classes from './EmailInput.module.scss';\r\n\r\nconst EmailInput = () => {\r\n  const htmlFor = `email-${Math.random()}`;\r\n  const { register, errors } = useFormContext();\r\n\r\n  return (\r\n    <div className = {classes.inputWrap}>\r\n      <label className={classes.label} htmlFor={htmlFor}>Email address</label>\r\n      <input\r\n        className={classes.input}\r\n        type={'text'}\r\n        name='email'\r\n        id={htmlFor}\r\n        placeholder={'Email address'}\r\n        ref={register({\r\n          required: true,\r\n          pattern: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\r\n        })}\r\n      />\r\n      {errors.email?.type === 'required' && <p className={classes.validError}>Обязательное поле</p>}\r\n      {errors.email?.type === 'pattern' && <p className={classes.validError}>Введите корректный Email</p>}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EmailInput;","import React, { useEffect } from 'react';\r\nimport { useFormContext, useWatch } from 'react-hook-form';\r\nimport classes from './PasswordInput.module.scss';\r\n\r\nconst PasswordInput = ({ modal, watchPass }) => {\r\n  const htmlFor = `password-${Math.random()}`;\r\n  const { register, errors } = useFormContext();\r\n\r\n  const validRules = { required: true };\r\n  if (modal === 'sign-up') {\r\n    validRules.minLength = 8;\r\n    validRules.manLength = 40;\r\n\r\n    const curPass = useWatch('password');\r\n    useEffect(() => {\r\n      watchPass(curPass);\r\n    }, [curPass])\r\n  }\r\n  if (modal === 'profile') {\r\n    validRules.required = false\r\n  }\r\n\r\n  return (\r\n    <div className = {classes.inputWrap}>\r\n      <label className={classes.label} htmlFor={htmlFor}>Password</label>\r\n      <input\r\n        className={classes.input}\r\n        type={'password'}\r\n        name='password'\r\n        id={htmlFor}\r\n        placeholder={'Password'}\r\n        ref={register(validRules)}\r\n      />\r\n      {errors.password?.type === 'required' && <p className={classes.validError}>Обязательное поле</p>}\r\n      {(errors.password?.type === 'minLength' && 'maxLength') && <p className={classes.validError}>от 8 до 40 символов</p>}\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PasswordInput;","/* eslint-disable arrow-parens */\r\nimport React from 'react';\r\nimport { useFormContext } from 'react-hook-form';\r\nimport classes from './RepeatPassInput.module.scss';\r\n\r\nconst RepeatPassInput = ({ curPass }) => {\r\n  const htmlFor = `repeat-password-${Math.random()}`;\r\n  const { register, errors } = useFormContext();\r\n  return (\r\n    <div className = {classes.inputWrap}>\r\n      <label className={classes.label} htmlFor={htmlFor}>Repeat password</label>\r\n      <input\r\n        className={classes.input}\r\n        type={'password'}\r\n        name={'repeat-password'}\r\n        id={htmlFor}\r\n        placeholder={'Repeat password'}\r\n        ref={register({\r\n          required: true,\r\n          validate: value => value === curPass,\r\n        })}\r\n      />\r\n      {errors['repeat-password']?.type === 'required' && <p className={classes.validError}>Обязательное поле</p>}\r\n      {errors['repeat-password'] && <p className={classes.validError}>Не совпадает с паролем</p>}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default RepeatPassInput;","import React from 'react';\r\nimport { useFormContext } from 'react-hook-form';\r\nimport classes from './Checkbox.module.scss';\r\n\r\nconst Checkbox = ({\r\n  name,\r\n  checkboxState,\r\n  label,\r\n  handleCheckbox,\r\n}) => {\r\n  const htmlFor = `${name}-${Math.random()}`;\r\n  const { register, errors } = useFormContext();\r\n\r\n  return (\r\n    <div className={classes['checkbox-wrap']}>\r\n      <input className={classes['check-box']}\r\n        ref={register({ required: true })}\r\n        name='checkbox'\r\n        id={htmlFor}\r\n        type='checkbox'\r\n        checked={checkboxState}\r\n        onChange={() => { handleCheckbox() }}\r\n      />\r\n      <label htmlFor={htmlFor}><span>{label}</span></label>\r\n      {errors.checkbox?.type === 'required' && <p className={classes.validError}>Обязательное поле</p>}\r\n    </div>\r\n  )\r\n}\r\nexport default Checkbox;","import React from 'react';\r\nimport classes from './InputSubmit.module.scss';\r\n\r\nconst InputSubmit = ({\r\n  value,\r\n}) => (\r\n  <div className={classes.buttonWrap}>\r\n    <input type=\"submit\" value={value}/>\r\n  </div>\r\n)\r\n\r\nexport default InputSubmit;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport classes from './ModalLink.module.scss';\r\n\r\nconst ModalLink = ({ linkUrl, value, linkName }) => {\r\n  const g = 1;\r\n\r\n  return (\r\n    <div className={classes.linkWrap}>\r\n      <span className={classes.value}>{value}</span>\r\n      <Link className={classes.linkName} to={linkUrl}> {linkName}</Link>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ModalLink;","/* eslint-disable no-underscore-dangle */\r\nexport default class ApiService {\r\n  _baseURL = 'https://conduit.productionready.io/api/';\r\n\r\n  async getRequest(url = null, obj = null) {\r\n    const res = await fetch(`${this._baseURL}${url}`, obj);\r\n    const responce = await res.json();\r\n    return responce;\r\n  }\r\n\r\n  getArticleList = async (url) => {\r\n    const articleList = await this.getRequest(url);\r\n    return articleList;\r\n  }\r\n\r\n  getArticle = async (url) => {\r\n    const article = await this.getRequest(url);\r\n    return article;\r\n  }\r\n\r\n  loginUser = async (data) => {\r\n    const res = await this.getRequest('users/login', {\r\n      method: 'POST',\r\n      body: JSON.stringify(data),\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n    });\r\n    return res;\r\n  }\r\n\r\n  createNewAcc = async (data) => {\r\n    const res = await this.getRequest('users', {\r\n      method: 'POST',\r\n      body: JSON.stringify(data),\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n    });\r\n    return res;\r\n  }\r\n\r\n  updateUser = async (data, token) => {\r\n    const res = await this.getRequest('user', {\r\n      method: 'PUT',\r\n      body: JSON.stringify(data),\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Token ${token}`,\r\n      },\r\n    });\r\n    return res;\r\n  }\r\n\r\n  getUser = async () => {\r\n    const user = await this.getRequest('user');\r\n    return user;\r\n  }\r\n}\r\n","/* eslint-disable array-callback-return */\r\nimport React, { useState } from 'react';\r\nimport { useForm, FormProvider } from 'react-hook-form';\r\nimport { Redirect } from 'react-router-dom';\r\nimport ModalWrapper from '../../hoc/ModalWrapper/ModalWrapper';\r\nimport UsernameInput from '../../components/UsernameInput/UsernameInput';\r\nimport EmailInput from '../../components/EmailInput/EmailInput';\r\nimport PasswordInput from '../../components/PasswordInput/PasswordInput';\r\nimport RepeatPassInput from '../../components/RepeatPassInput/RepeatPassInput';\r\nimport Checkbox from '../../components/Checkbox/Checkbox';\r\nimport InputSubmit from '../../components/InputSubmit/InputSubmit';\r\nimport ModalLink from '../../components/ModalLink/ModalLink';\r\nimport ApiService from '../../ApiServices/ApiService';\r\nimport { useUser } from '../../Context/UserContext';\r\nimport classes from './SignUp.module.scss';\r\n\r\nconst SignUp = () => {\r\n  const apiService = new ApiService();\r\n  const [curPass, setCurPass] = useState('');\r\n  const [userNameErr, setUserNameErr] = useState(false);\r\n  const [emailErr, setEmailErr] = useState(false);\r\n  const [checkboxState, useCheckboxState] = useState(false);\r\n  const { user } = useUser();\r\n  const methods = useForm();\r\n\r\n  const onSubmit = (data, e) => {\r\n    const resData = { user: data };\r\n    apiService.createNewAcc(resData)\r\n      .then((request) => {\r\n        if (request.errors) {\r\n          const typeRequest = Object.keys(request.errors);\r\n          typeRequest.map((err) => {\r\n            if (err === 'email') {\r\n              setEmailErr(true)\r\n            }\r\n            if (err === 'username') {\r\n              setUserNameErr(true)\r\n            }\r\n          })\r\n        }\r\n      })\r\n    e.target.reset({\r\n      errors: true,\r\n    });\r\n  }\r\n  const watchPass = (pass) => {\r\n    if (pass.password) {\r\n      setCurPass(pass.password);\r\n    }\r\n  }\r\n  const handleCheckbox = () => {\r\n    useCheckboxState((prev) => !prev);\r\n  }\r\n\r\n  if (user) {\r\n    return (\r\n      <Redirect to='/Articles'/>\r\n    )\r\n  }\r\n  return (\r\n    <FormProvider {...methods}>\r\n      <ModalWrapper title='Create new account'>\r\n        <form onSubmit={methods.handleSubmit(onSubmit)}>\r\n          {userNameErr && <p className={classes.error}>Этот username уже занят</p>}\r\n          <UsernameInput />\r\n          {emailErr && <p className={classes.error}>Такой email уже зарегестрирован</p>}\r\n          <EmailInput />\r\n          <PasswordInput modal={'sign-up'} watchPass={watchPass} />\r\n          <RepeatPassInput curPass={curPass}/>\r\n          <Checkbox\r\n            handleCheckbox={handleCheckbox}\r\n            checkboxState={checkboxState}\r\n\r\n            name='personInfo'\r\n            label='I agree to the processing of my personal\r\n    information'\r\n          />\r\n          <InputSubmit value='Create'/>\r\n          <ModalLink linkUrl={'/sign-in/'} value='Already have an account?' linkName='Sign In' />\r\n        </form>\r\n      </ModalWrapper>\r\n    </FormProvider>\r\n  )\r\n}\r\n\r\nexport default SignUp;","import React, { useState } from 'react';\r\nimport { useForm, FormProvider } from 'react-hook-form';\r\nimport { Redirect } from 'react-router-dom';\r\nimport ModalWrapper from '../../hoc/ModalWrapper/ModalWrapper';\r\nimport InputSubmit from '../../components/InputSubmit/InputSubmit';\r\nimport EmailInput from '../../components/EmailInput/EmailInput';\r\nimport PasswordInput from '../../components/PasswordInput/PasswordInput';\r\nimport ModalLink from '../../components/ModalLink/ModalLink';\r\nimport ApiService from '../../ApiServices/ApiService';\r\nimport { useUser } from '../../Context/UserContext';\r\nimport classes from './SignIn.module.scss';\r\n\r\nconst SignIn = () => {\r\n  const apiService = new ApiService();\r\n  const methods = useForm();\r\n  const { user, updateUser } = useUser();\r\n  const [error, setError] = useState(false);\r\n\r\n  const initSession = (dataUser) => {\r\n    const session = {\r\n      user: dataUser,\r\n    };\r\n    sessionStorage.setItem('session', JSON.stringify(session));\r\n  };\r\n\r\n  const onSubmit = (data) => {\r\n    const resData = { user: data };\r\n    apiService.loginUser(resData)\r\n      .then((request) => {\r\n        const typeRequest = Object.keys(request);\r\n        if (`${typeRequest}` === 'user') {\r\n          updateUser(request.user);\r\n          initSession(request.user);\r\n        } else {\r\n          setError(true)\r\n        }\r\n      });\r\n    // e.target.reset({\r\n    //   errors: true,\r\n    // });\r\n  }\r\n\r\n  if (user) {\r\n    return (\r\n      <Redirect to='/Articles'/>\r\n    )\r\n  }\r\n  return (\r\n    <FormProvider {...methods}>\r\n      <ModalWrapper title='Sign In'>\r\n        <form onSubmit={methods.handleSubmit(onSubmit)}>\r\n          <EmailInput />\r\n          <PasswordInput />\r\n          {error && <p className={classes.error}>Email и пароль не совпадают</p>}\r\n          <InputSubmit value='Login'/>\r\n          <ModalLink linkUrl={'/sign-up/'} value='Don`t have an account?' linkName='Sign Up' />\r\n        </form>\r\n      </ModalWrapper>\r\n    </FormProvider>\r\n  )\r\n}\r\n\r\nexport default SignIn;","import React from 'react';\r\nimport { useFormContext } from 'react-hook-form';\r\nimport classes from './AvatarInput.module.scss';\r\n\r\nconst AvatarInput = () => {\r\n  const htmlFor = `username-${Math.random()}`;\r\n  const { register, errors } = useFormContext();\r\n\r\n  return (\r\n    <div className = {classes.inputWrap}>\r\n      <label className={classes.label} htmlFor={htmlFor}>Avatar image (url)</label>\r\n      <input\r\n        className={classes.input}\r\n        type={'text'}\r\n        name='image'\r\n        id={htmlFor}\r\n        placeholder={'Avatar image'}\r\n        ref={register()}\r\n      />\r\n      {/* {errors.username?.type === 'required' && <p className={classes.validError}>Обязательное поле</p>} */}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AvatarInput;","/* eslint-disable array-callback-return */\r\n/* eslint-disable no-restricted-syntax */\r\n/* eslint-disable guard-for-in */\r\n/* eslint-disable no-shadow */\r\nimport React, { useState } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { useForm, FormProvider } from 'react-hook-form';\r\nimport ModalWrapper from '../../hoc/ModalWrapper/ModalWrapper';\r\nimport UsernameInput from '../../components/UsernameInput/UsernameInput';\r\nimport EmailInput from '../../components/EmailInput/EmailInput';\r\nimport PasswordInput from '../../components/PasswordInput/PasswordInput';\r\nimport AvatarInput from '../../components/AvatarInput/AvatarInput';\r\nimport InputSubmit from '../../components/InputSubmit/InputSubmit';\r\nimport ApiService from '../../ApiServices/ApiService';\r\nimport { useUser } from '../../Context/UserContext';\r\nimport classes from './Profile.module.scss';\r\n\r\nconst Profile = () => {\r\n  const apiService = new ApiService();\r\n  const methods = useForm();\r\n  const { user, updateUser } = useUser();\r\n  const [userNameErr, setUserNameErr] = useState(false);\r\n  const [emailErr, setEmailErr] = useState(false);\r\n\r\n  const filterUserData = (data) => {\r\n    const obj = data.user\r\n    const newObj = { user: {} };\r\n    for (const i in obj) {\r\n      if (obj[i].trim() !== '') {\r\n        newObj.user[i] = obj[i];\r\n      }\r\n    }\r\n    return newObj;\r\n  }\r\n  const updateSession = (dataUser) => {\r\n    const session = {\r\n      user: dataUser,\r\n    };\r\n    sessionStorage.setItem('session', JSON.stringify(session));\r\n  };\r\n\r\n  const onSubmit = (data, e) => {\r\n    const resData = { user: data };\r\n    apiService.updateUser(filterUserData(resData), user.token)\r\n      .then((request) => {\r\n        if (request.errors) {\r\n          const typeRequest = Object.keys(request.errors);\r\n          typeRequest.map((err) => {\r\n            if (err === 'email') {\r\n              setEmailErr(true)\r\n            }\r\n            if (err === 'username') {\r\n              setUserNameErr(true)\r\n            }\r\n          })\r\n        } else {\r\n          updateUser(request.user);\r\n          updateSession(request.user);\r\n        }\r\n      })\r\n    e.target.reset();\r\n  }\r\n\r\n  if (user) {\r\n    return (\r\n      <FormProvider {...methods}>\r\n        <ModalWrapper title='Edit Profile'>\r\n          <form onSubmit={methods.handleSubmit(onSubmit)}>\r\n            {userNameErr && <p className={classes.error}>Этот username уже занят</p>}\r\n            <UsernameInput />\r\n            {emailErr && <p className={classes.error}>Такой email уже зарегестрирован</p>}\r\n            <EmailInput />\r\n            <PasswordInput modal={'profile'}/>\r\n            <AvatarInput />\r\n            <InputSubmit value='Save'/>\r\n          </form>\r\n        </ModalWrapper>\r\n      </FormProvider>\r\n    )\r\n  }\r\n  return (\r\n    <Redirect to='/sign-in'/>\r\n  )\r\n}\r\n\r\nexport default Profile;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { format } from 'date-fns';\r\nimport classes from './ArticleItemList.module.scss';\r\n\r\nconst ArticleItemList = ({ data, clsForTags }) => {\r\n  const {\r\n    title, favoritesCount, tagList, slug, description, createdAt,\r\n  } = data;\r\n  const { username, image } = data.author;\r\n  const cls = [classes.tags];\r\n  if (clsForTags) {\r\n    cls.push(classes.article);\r\n  }\r\n  const createdDate = format(new Date(createdAt), 'MMMM d, Y')\r\n  const tags = tagList.length ? <div className={cls.join(' ')}><ul>{tagList.map((item, i) => <li key={i}><span>{item}</span></li>)}</ul></div> : null;\r\n  return (\r\n    <div className={classes.wrapper}>\r\n      <div className={classes.content}>\r\n        <div className={classes.header}>\r\n          <div className={classes.title}>\r\n            <Link to={`/articles/${slug}`}><h5>{title}</h5></Link>\r\n          </div>\r\n          <div className={classes.favorites}>\r\n            <div className={classes.heart}/>\r\n            <span>{favoritesCount}</span>\r\n          </div>\r\n        </div>\r\n        {tags}\r\n        <div className={classes.description}>{description}</div>\r\n      </div>\r\n      <div className={classes.author}>\r\n        <div className={classes['author-info']}>\r\n          <div className={classes['author-name']}>{username}</div>\r\n          <div className={classes['created-date']}>{createdDate}</div>\r\n        </div>\r\n        <div className={classes['author-avatar']}><img src={`${image}`} alt={username}/></div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ArticleItemList;","import React from 'react';\r\nimport { Pagination } from 'antd';\r\nimport './Navigation.css';\r\n\r\nconst Navigation = (props) => {\r\n  const {\r\n    totalArticles, currentPage, nextPage,\r\n  } = props;\r\n\r\n  return (\r\n    <Pagination\r\n      size=\"small\"\r\n      current={currentPage}\r\n      total={totalArticles}\r\n      pageSize='20'\r\n      onChange={(page) => { nextPage(page); }}\r\n    />\r\n  );\r\n};\r\nexport default Navigation;","import React from 'react';\r\nimport { Spin } from 'antd';\r\nimport './Spinner.css';\r\n\r\nconst Spinner = () => (\r\n  <div className='spinner'>\r\n    <Spin tip=\"Loading...\" size='large'/>\r\n  </div>\r\n)\r\n\r\nexport default Spinner;","import React, { useState, useEffect } from 'react';\r\nimport ArticleItemList from '../ArticleItemList/ArticleItemList';\r\nimport Navigation from '../../components/Navigation/Navigation';\r\nimport Spinner from '../../components/Spinner/Spinner';\r\nimport ApiService from '../../ApiServices/ApiService';\r\nimport classes from './ArticlesList.module.scss';\r\n\r\nconst ArticlesList = () => {\r\n  const apiService = new ApiService();\r\n  const [articles, setArticles] = useState([]);\r\n  const [totalArticles, setTotalArticles] = useState(null);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const useLoading = (currPage) => {\r\n    setLoading(true);\r\n    const offsetArticles = 20 * (currPage - 1);\r\n    apiService.getArticleList(`articles?offset=${offsetArticles}/`)\r\n      .then((data) => {\r\n        setTotalArticles(data.articlesCount);\r\n        setArticles(data.articles);\r\n      })\r\n      .then(() => {\r\n        setLoading(false);\r\n      })\r\n  }\r\n  useEffect(() => {\r\n    useLoading(currentPage);\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    useLoading(currentPage);\r\n  }, [currentPage])\r\n  const nextPage = (newPage) => {\r\n    setCurrentPage(newPage);\r\n  }\r\n  if (!loading) {\r\n    return (\r\n      <div className={classes.wrapper}>\r\n        <ul className={classes.articleList}>\r\n          {articles.map((item, i) => (\r\n            <li key={i}><ArticleItemList data = {item}/></li>\r\n          ))}\r\n        </ul>\r\n        <div className={classes.pagination}>\r\n          <Navigation\r\n            totalArticles={totalArticles}\r\n            currentPage={currentPage}\r\n            nextPage={nextPage}\r\n          />\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n  return (\r\n    <Spinner />\r\n  )\r\n}\r\n\r\nexport default ArticlesList;","import React, { useState, useEffect } from 'react';\r\nimport ReactMarkDown from 'react-markdown';\r\nimport Spinner from '../../components/Spinner/Spinner';\r\nimport ArticleItemList from '../ArticleItemList/ArticleItemList';\r\nimport ApiService from '../../ApiServices/ApiService';\r\nimport classes from './Article.module.scss';\r\n\r\nconst Article = (props) => {\r\n  const { slug } = props.match.params;\r\n  const apiService = new ApiService();\r\n  const [article, setArticle] = useState({});\r\n\r\n  useEffect(() => {\r\n    apiService.getArticle(`articles/${slug}/`)\r\n      .then((data) => setArticle(data.article))\r\n  }, [])\r\n  useEffect(() => {\r\n    console.log(article)\r\n  }, [article])\r\n\r\n  if (article && article.author) {\r\n    return (\r\n        <div className={classes.article}>\r\n          <ArticleItemList data = {article} clsForTags={true}/>\r\n\r\n          <div className={classes.articleBody}>\r\n            <ReactMarkDown>{article.body}</ReactMarkDown>\r\n          </div>\r\n        </div>\r\n    )\r\n  }\r\n  return (\r\n    <Spinner/>\r\n  )\r\n}\r\n\r\nexport default Article;","import React, { useEffect } from 'react';\r\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\r\nimport Header from '../Header/Header';\r\nimport SignUp from '../SignUp/SignUp';\r\nimport SignIn from '../SignIn/SignIn';\r\nimport Profile from '../Profile/Profile';\r\nimport ArticlesList from '../ArticlesList/ArticlesList';\r\nimport Article from '../Article/Article';\r\nimport classes from './App.module.scss';\r\nimport { useUser } from '../../Context/UserContext';\r\n\r\nconst App = () => {\r\n  const { updateUser } = useUser();\r\n\r\n  useEffect(() => {\r\n    if (sessionStorage.getItem('session')) {\r\n      const { user } = JSON.parse(sessionStorage.getItem('session'));\r\n      updateUser(user);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <Router>\r\n      <div className={classes.wrapper}>\r\n        <Header />\r\n        <Route path='/' exact component={ArticlesList}/>\r\n        <Route path='/articles' exact component={ArticlesList}/>\r\n        <Route path='/my-blog' exact component={ArticlesList}/>\r\n        <Route path='/articles/:slug' component={Article}/>\r\n        <Route path='/sign-up' component={SignUp}/>\r\n        <Route path='/sign-in' component ={SignIn}/>\r\n        <Route path='/profile' component={Profile}/>\r\n      </div>\r\n    </Router>\r\n  )\r\n}\r\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './containers/App/App';\nimport { UserProvider } from './Context/UserContext';\nimport './index.css';\n\nconst app = <UserProvider>\n              <App />\n            </UserProvider>\n\nReactDOM.render(app, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2ksFT\",\"logo\":\"Header_logo__1b2Wt\",\"buttons\":\"Header_buttons__Yozv-\",\"sign-in\":\"Header_sign-in__1PPVb\",\"sign-up\":\"Header_sign-up__2zj7q\",\"create-article\":\"Header_create-article__OPlDE\",\"profile\":\"Header_profile__2kGo7\",\"avatar\":\"Header_avatar__1MfhC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputWrap\":\"UsernameInput_inputWrap__2jNqH\",\"label\":\"UsernameInput_label__1c9c6\",\"input\":\"UsernameInput_input__1wBE1\",\"validError\":\"UsernameInput_validError__Xjq7U\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputWrap\":\"EmailInput_inputWrap__2dCnm\",\"label\":\"EmailInput_label__1FFnG\",\"input\":\"EmailInput_input__3Eqea\",\"validError\":\"EmailInput_validError__1m4kA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputWrap\":\"PasswordInput_inputWrap__2LHa5\",\"label\":\"PasswordInput_label__2nSVG\",\"input\":\"PasswordInput_input__1zWEK\",\"validError\":\"PasswordInput_validError__34Eh4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputWrap\":\"RepeatPassInput_inputWrap__1f7gp\",\"label\":\"RepeatPassInput_label__gZPcI\",\"input\":\"RepeatPassInput_input__1j5eS\",\"validError\":\"RepeatPassInput_validError__2Et39\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"ModalWrapper_wrapper__2p1qt\",\"title\":\"ModalWrapper_title__1_1OR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"checkbox-wrap\":\"Checkbox_checkbox-wrap__37UNy\",\"check-box\":\"Checkbox_check-box__3ViH4\",\"validError\":\"Checkbox_validError__8d33a\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"linkWrap\":\"ModalLink_linkWrap__1KmPa\",\"value\":\"ModalLink_value__w3aBd\",\"linkName\":\"ModalLink_linkName__18C65\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputWrap\":\"AvatarInput_inputWrap__YpKMg\",\"label\":\"AvatarInput_label__1FN7n\",\"input\":\"AvatarInput_input__Vs64r\",\"validError\":\"AvatarInput_validError__24HdL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"ArticlesList_wrapper__1qYJ_\",\"articleList\":\"ArticlesList_articleList__3JAQD\"};"],"sourceRoot":""}